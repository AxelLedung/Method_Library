@model Method_Library.Models.Snippets

@{
    ViewData["Title"] = Model.Name;
    
}


<div>
    <span><a asp-controller="Languages" asp-action="Display" asp-route-id="@Model.Categories.LanguageId">@Model.Categories.Languages.Name</a>/</span>
    <span><a asp-controller="Categories" asp-action="Display" asp-route-id="@Model.CategoryId">@Model.Categories.Name</a>/</span>
    <span>@Model.Name</span>
    <div style="position: relative;">
            <h3>Code</h3>
            <a asp-action="Edit" asp-route-id="@Model?.Id">Edit Snippet</a>
    </div>
    <hr />
    <div style="background-color: #444444; width: 100%; min-height: 300px; padding: 10px; position: relative;">
        <button onclick="copyToClipboard()" style="position: absolute; top: 10px; right: 10px; background-color: #555555; color: white; border: none; padding: 5px 10px; cursor: pointer;">
            Copy to Clipboard
        </button>
        <pre id="codeText" style="color: white;">@Model.Code</pre>
    </div>
</div>

<script>
    function copyToClipboard() {
        // Get the text content of the pre element
        const codeText = document.getElementById("codeText").innerText;

        // Use the Clipboard API to copy the text
        navigator.clipboard.writeText(codeText).then(() => {
            alert("Code copied to clipboard!");
        }).catch(err => {
            console.error("Failed to copy: ", err);
        });
    }
</script>